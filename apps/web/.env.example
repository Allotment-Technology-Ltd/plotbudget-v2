# Copy to .env.local and fill in values. See docs/PRODUCTION-INFRASTRUCTURE.md and docs/RESEND-SETUP.md.
# Never commit .env.local or real secrets.

# Supabase (dev project for local)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# App URL (local dev)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Marketing site URL (for links from app to plotbudget.com)
NEXT_PUBLIC_MARKETING_URL=https://plotbudget.com

# Resend (partner invite emails)
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxx
RESEND_FROM_EMAIL=PLOT <hello@yourdomain.com>
RESEND_REPLY_TO=hello@plotbudget.com

# Polar (subscriptions / checkout)
POLAR_ACCESS_TOKEN=
POLAR_WEBHOOK_SECRET=
# Optional: override checkout redirect URL; when unset, derives from request origin (local→localhost, prod→app URL)
# POLAR_SUCCESS_URL=https://app.plotbudget.com/dashboard?checkout_id={CHECKOUT_ID}
# PWYL products (currency-specific for auto-routing by household currency)
# Create via: pnpm exec tsx apps/web/scripts/create-polar-products.ts (prod) or --sandbox (sandbox)
POLAR_PWYL_GBP_PRODUCT_ID=
POLAR_PWYL_USD_PRODUCT_ID=
POLAR_PWYL_EUR_PRODUCT_ID=

# Fixed pricing products (monthly, annual)
POLAR_PREMIUM_PRODUCT_ID=
POLAR_PREMIUM_ANNUAL_PRODUCT_ID=

# Legacy: single PWYL product (optional; checkout prefers currency-specific vars)
# POLAR_PWYL_BASE_PRODUCT_ID=

# Sandbox vs production: POLAR_SANDBOX=true for sandbox; omit or false for production.
POLAR_SANDBOX=true

# Cron / internal API protection
CRON_SECRET=any_random_string_for_local

# Dev database (for running seed scripts with psql)
# DEV_DATABASE_URL=postgresql://user:pass@host:5432/postgres

# Optional: restrict signup to these emails (comma-separated)
# ALLOWED_EMAILS=

# Auth feature flags (see docs/PRODUCTION-INFRASTRUCTURE.md)
# NEXT_PUBLIC_SIGNUP_GATED=true
# NEXT_PUBLIC_GOOGLE_LOGIN_ENABLED=true
# NEXT_PUBLIC_WAITLIST_URL=https://plotbudget.com
# NEXT_PUBLIC_PRICING_ENABLED=true

# Local development – payment toggle (only applied when NODE_ENV=development or APP_URL has localhost)
# NEXT_PUBLIC_DEV_PAYMENTS=off   # state 1: no pricing page, no pricing link, no Subscription tab
# NEXT_PUBLIC_DEV_PAYMENTS=pwyl  # state 2: PWYL pricing + pricing link + Subscription tab
# NEXT_PUBLIC_DEV_PAYMENTS=full  # state 3: full premium pricing as well

# PostHog (optional)
# NEXT_PUBLIC_POSTHOG_KEY=
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
