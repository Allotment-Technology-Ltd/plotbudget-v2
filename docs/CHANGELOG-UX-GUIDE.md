# Changelog UX guide

The **user-facing changelog** is what people read on the marketing site (“What’s new”). This guide makes sure it’s written with good UX from the start so it’s clear, useful, and needs little or no sanitization at release.

## Why this matters

- **User goal:** Readers want to know what changed and how it affects them — not an audit log of commits.
- **Clarity:** Plain language and a consistent structure reduce cognitive load and build trust.
- **Information architecture:** Grouping by version and theme helps people scan and find what they care about.

## Source of truth

| File | Purpose |
|------|--------|
| **`CHANGELOG.md`** (repo root) | **Developer/release history.** Generated by semantic-release when branches are merged to `main` (see Release workflow). Used for version tags and commit history. Not used by the marketing site. |
| **`apps/marketing/src/data/publicChangelog.js`** | The “What’s new” page. Manually maintained. Edit this file to add or update entries at plotbudget.com/changelog. See **docs/RELEASES-SUMMARY.md** for a list of all releases.  |

**When is the public changelog updated?** Manually. After a release, add a user-friendly entry to `publicChangelog.js` (version, date, Markdown content). The repo `CHANGELOG.md` is still updated automatically by semantic-release for developers.

---

## UX principles for changelog entries

### 1. Write for the person using PLOT

- **Do:** Describe the change and its benefit. *“Pick GBP, USD, or EUR in Household Settings; all amounts update across the app.”*
- **Avoid:** Technical or internal wording. *“Add updateHouseholdCurrency server action with Zod validation.”*

### 2. Use plain language

- **Do:** “Add PLOT to your home screen”, “Partner name now shows correctly”, “Clearer calls to action”.
- **Avoid:** Jargon, ticket refs, and commit-style phrasing: “PLOT-86”, “feat(ux):”, “fix(e2e):”, “migration”, “server action”, “Zod”.

### 3. No parentheses for refs

- **Do:** “Security and dependency updates so your data stays safe.”
- **Avoid:** “Security updates (#52, #53).” or “(2026-02-15)”.

### 4. Structure for scanning

- Use a **short version title** that summarises the theme: *“1.4 — Native app feel”*, *“1.1.1 — Security and reliability”*.
- Group bullets by **theme** (e.g. Settings, Subscriptions, Mobile app). One line per idea; optional bold lead-in: *“**Currency:** Pick GBP, USD, or EUR…”*.
- Keep **one idea per bullet** so the list is easy to scan.

### 5. Be consistent

- Same format for every version: version number + short title, then bullets.
- Use the same tone: helpful and neutral, not marketing hype or dev-speak.
- Prefer “you” and “your” where it fits: “your home screen”, “your data”.

### 6. Omit internal-only changes

- **Do include:** User-visible features, fixes, and improvements (settings, UI, security, performance, emails they receive).
- **Do not include:** CI, E2E, migrations, dependency bumps, refactors, or tooling unless they directly affect what the user sees or experiences.

---

## Structure of the public changelog (`publicChangelog.js`)

Each entry has `version`, `released_at` (e.g. `'2026-02-18'`), and `content` (Markdown). The sanitizer turns version headers and “Features” / “Bug Fixes” into readable headings and strips refs. The page structure is:

- Version headers like `## 1.4.0 — February 2026`
- Sections like “What’s new” (from Features) and “Improvements” (from Bug Fixes)
- Bullets with commit messages, sanitized (links, issue refs, and internal-only lines removed)

For commit messages that will appear in the changelog, prefer user-facing wording so the sanitized output stays clear (see “Good vs avoid” below).

---

## Good vs avoid (examples)

| Prefer | Avoid |
|--------|--------|
| **Settings:** Partner name now shows correctly in the profile tab. | profile-tab partner name, E2E logout/visual, Linear branch rule |
| **Currency:** Pick GBP, USD, or EUR in Household Settings; all amounts and symbols update across the app. | Add currency selection to Household Settings tab with GBP/USD/EUR options; add updateHouseholdCurrency server action with Zod validation. |
| **Security:** Dependency updates and internal security improvements so your data stays safe. | **security:** autofix 3rd party Github Actions should be pinned (#53) |
| **Mobile app:** Smoother, more native experience with updated bottom sheets and small interaction tweaks. | **native:** Phase 2b Native Feel — bottom sheets, micro-interaction… (#65) |

---

## When each changelog gets updated

1. **Repo `CHANGELOG.md` (automatic):** The Release workflow runs on push to `main`, runs semantic-release, and appends to `CHANGELOG.md`. That file is for developers and release history only.
2. **Public "What's new" (manual):** After a release, add an entry to `apps/marketing/src/data/publicChangelog.js` with version, `released_at`, and user-friendly Markdown `content`. Use **docs/RELEASES-SUMMARY.md** for a list of releases and what was in them.

---

## Checklist before you add a version

- [ ] Version number and short theme title (e.g. `### 1.5 — Clearer billing`).
- [ ] Each bullet is one idea, in plain language.
- [ ] No ticket refs, commit hashes, or parentheses for refs.
- [ ] No internal-only items (CI, E2E, migrations, tooling) unless they affect the user.
- [ ] Bold lead-in optional but consistent within the entry (e.g. **Topic:** …).

Following this guide keeps the changelog readable and trustworthy and reduces the need for sanitization at release.
